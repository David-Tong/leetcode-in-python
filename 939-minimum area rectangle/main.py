class Solution(object):
    def minAreaRect(self, points):
        """
        :type points: List[List[int]]
        :rtype: int
        """
        # pre-process
        L = len(points)

        cache = set()
        for point in points:
            key = str(point[0]) + "-" + str(point[1])
            cache.add(key)

        # process
        ans = float("inf")
        for x in range(L):
            point = points[x]
            for y in range(x + 1, L):
                point2 = points[y]
                # search point3 and point4
                key3 = str(point[0]) + "-" + str(point2[1])
                key4 = str(point2[0]) + "-" + str(point[1])
                if key3 in cache and key4 in cache:
                    if abs(point2[0] - point[0]) * abs(point2[1] - point[1]) > 0:
                        ans = min(ans, abs(point2[0] - point[0]) * abs(point2[1] - point[1]))
        return ans if ans != float("inf") else 0


points = [[1,1],[1,3],[3,1],[3,3],[2,2]]
points = [[1,1],[1,3],[3,1],[3,3],[4,1],[4,3]]
points = [[1,1],[1,3],[1,5],[1,7],[1,9]]
points = [[12876,20417],[12876,12154],[12876,7116],[12876,3827],[12876,39749],[12876,35101],[12876,33818],[12876,26988],[12876,13912],[12876,22757],[12876,33694],[12876,38589],[12876,1500],[12876,27272],[12876,35911],[12876,34808],[12876,13043],[12876,35933],[12876,39804],[12876,1964],[12876,38693],[12876,33348],[12876,18007],[12876,2729],[12876,24807],[12876,22984],[12876,10786],[12876,24244],[12876,2187],[12876,7500],[12876,27192],[12876,26258],[12876,1150],[12876,8636],[12876,9154],[12876,19855],[12876,984],[12876,8805],[12876,32030],[12876,38039],[12876,12124],[12876,13196],[12876,24479],[12876,24066],[12876,300],[12876,165],[12876,32333],[12876,401],[12876,9175],[12876,12488],[12876,3695],[12876,1388],[12876,24411],[12876,32100],[12876,4193],[12876,37658],[12876,36409],[12876,16767],[12876,31379],[12876,434],[12876,127],[12876,11934],[12876,16683],[12876,15344],[12876,32279],[12876,35208],[12876,20737],[12876,12474],[12876,31559],[12876,14297],[12876,20531],[12876,37725],[12876,8133],[12876,5140],[12876,33134],[12876,8423],[12876,2213],[12876,31986],[12876,13073],[12876,25777],[12876,14626],[12876,13748],[12876,33159],[12876,23983],[12876,33080],[12876,32146],[12876,11359],[12876,22480],[12876,20522],[12876,38729],[12876,28950],[12876,39100],[12876,28129],[12876,1966],[12876,14828],[12876,16966],[12876,37907],[12876,32472],[12876,24933],[12876,10270],[12876,22333],[12876,8650],[12876,23132],[12876,16054],[12876,323],[12876,776],[12876,37505],[12876,12397],[12876,31065],[12876,38740],[12876,38987],[12876,21500],[12876,34984],[12876,20749],[12876,9178],[12876,12903],[12876,23596],[12876,33476],[12876,23697],[12876,13322],[12876,16087],[12876,20402],[12876,36424],[12876,16876],[12876,29121],[12876,5006],[12876,4432],[12876,11037],[12876,15932],[12876,23764],[12876,16326],[12876,6547],[12876,39172],[12876,28636],[12876,3208],[12876,23553],[12876,37664],[12876,22540],[12876,1382],[12876,18936],[12876,20285],[12876,3452],[12876,26377],[12876,8744],[12876,36482],[12876,9114],[12876,35244],[12876,23763],[12876,26917],[12876,8414],[12876,18691],[12876,33601],[12876,1632],[12876,35097],[12876,17011],[12876,36478],[12876,10079],[12876,9373],[12876,18295],[12876,38563],[12876,14117],[12876,9812],[12876,21402],[12876,3308],[12876,17610],[12876,35817],[12876,13750],[12876,6357],[12876,866],[12876,36942],[12876,29785],[12876,17669],[12876,2801],[12876,33982],[12876,27613],[12876,26761],[12876,4613],[12876,1855],[12876,29585],[12876,27883],[12876,32072],[12876,39023],[12876,12834],[12876,37529],[12876,30707],[12876,24420],[12876,7563],[12876,9757],[12876,11585],[12876,21224],[12876,15541],[12876,25051],[12876,11186],[12876,21325],[12876,38508],[12876,18917],[12876,15282],[12876,26321],[12876,19952],[12876,20000],[12876,4333],[12876,7495],[12876,5900],[12876,102],[12876,27628],[12876,31016],[12876,35829],[12876,37607],[12876,262],[12876,34200],[12876,15101],[12876,31747],[12876,28225],[12876,16398],[12876,18086],[12876,32197],[12876,10130],[12876,15742],[12876,35370],[12876,7868],[12876,33097],[12876,5685],[12876,33198],[12876,15904],[12876,19526],[12876,26840],[12876,35685],[12876,6143],[12876,20561],[12876,24432],[12876,14518],[12876,23816],[12876,39994],[12876,5831],[12876,9702],[12876,6067],[12876,13944],[12876,11198],[12876,20189],[12876,37226],[12876,35484],[12876,1321],[12876,15522],[12876,9082],[12876,12944],[12876,15091],[12876,22667],[12876,21464],[12876,2997],[12876,34381],[12876,3436],[12876,10041],[12876,2963],[12876,39295],[12876,31492],[12876,15915],[12876,701],[12876,22824],[12876,25142],[12876,13507],[12876,19887],[12876,11505],[12876,14542],[12876,6586],[12876,5337],[12876,22835],[12876,3615],[12876,881],[12876,12553],[12876,30850],[12876,34875],[12876,4583],[12876,9939],[12876,37598],[12876,8701],[12876,8791],[12876,34338],[12876,32065],[12876,29147],[12876,1139],[12876,29330],[12876,38239],[12876,5789],[12876,9064],[12876,25909],[12876,24514],[12876,11896],[12876,19647],[12876,26674],[12876,24401],[12876,35440],[12876,29757],[12876,3561],[12876,4022],[12876,25301],[12876,29723],[12876,12029],[12876,17649],[12876,11370],[12876,38883],[12876,38331],[12876,39130],[12876,9063],[12876,14475],[12876,3473],[12876,25866],[12876,6103],[12876,4508],[12876,16425],[12876,23151],[12876,36646],[12876,21432],[12876,27205],[12876,31762],[12876,6500],[12876,2077],[12876,14140],[12876,10562],[12876,5678],[12876,8832],[12876,1357],[12876,36634],[12876,3731],[12876,9343],[12876,4305],[12876,13532],[12876,18742],[12876,18843],[12876,39897],[12876,17459],[12876,4946],[12876,34079],[12876,30628],[12876,26686],[12876,16086],[12876,10260],[12876,15726],[12876,5804],[12876,32664],[12876,4338],[12876,38212],[12876,16145],[12876,24683],[12876,16944],[12876,37207],[12876,30953],[12876,38313],[12876,17923],[12876,18632],[12876,9753],[12876,10406],[12876,30661],[12876,8932],[12876,38065],[12876,18620],[12876,21782],[12876,18485],[12876,24741],[12876,17551],[12876,18108],[12876,35698],[12876,7986],[12876,11140],[12876,39145],[12876,32067],[12876,32520],[12876,36481],[12876,16718],[12876,30112],[12876,3642],[12876,30041],[12876,10214],[12876,10757],[12876,11474],[12876,15210],[12876,28930],[12876,21455],[12876,16110],[12876,32013],[12876,3687],[12876,8019],[12876,17471],[12876,14256],[12876,7977],[12876,3093],[12876,9012],[12876,10126],[12876,35040],[12876,28209],[12876,119],[12876,39225],[12876,9916],[12876,35995],[12876,25159],[12876,33227],[12876,31291],[12876,5312],[12876,32397],[12876,23673],[12876,11557],[12876,12735],[12876,34884],[12876,29918],[12876,30042],[12876,11261],[12876,30236],[12876,18601],[12876,1283],[12876,2799],[12876,16812],[12876,24385],[12876,21324],[12876,18271],[12876,21118],[12876,1744],[12876,28604],[12876,20773],[12876,15821],[12876,24103],[12876,12389],[12876,21042],[12876,17981],[12876,8903],[12876,2115],[12876,6664],[12876,17396],[12876,16645],[12876,33532],[12876,17320],[12876,14031],[12876,4244],[12876,1836],[12876,7845],[12876,6975],[12876,3985],[12876,27907],[12876,6938],[12876,27413],[12876,38880],[12876,15665],[12876,36862],[12876,18512],[12876,24439],[12876,16104],[12876,21243],[12876,33202],[12876,18354],[12876,35537],[12876,3883],[12876,31767],[12876,16745],[12876,15811],[12876,16264],[12876,29359],[12876,35278],[12876,21741],[12876,34591],[12876,35818],[12876,25690],[12876,4268],[12876,13177],[12876,21766],[12876,29426],[12876,1215],[12876,17456],[12876,16125],[12876,14728],[12876,26537],[12876,26627],[12876,15014],[12876,21875],[12876,4549],[12876,4343],[12876,23746],[12876,39905],[12876,38892],[12876,28742],[12876,29203],[12876,17590],[12876,14147],[12876,23138],[12876,3119],[12876,37710],[12876,32365],[12876,27335],[12876,39716],[12876,15857],[12876,4112],[12876,15069],[12876,34615],[12876,22420],[12876,24333],[12876,30157],[12876,20459],[12876,8624],[12876,13980],[12876,8489],[12876,15350]]
points = [[16815,27852],[39981,27852],[8715,36136],[16536,15075],[35992,16653],[13241,11357],[35992,11357],[12240,11357],[8715,36332],[8715,39238],[12240,36332],[17572,15197],[8715,15075],[36879,15075],[3559,15134],[16815,9853],[12240,2669],[30491,15197],[28896,27852],[28896,24202],[33643,21063],[6803,26793],[13563,24202],[17572,36332],[16536,36332],[22506,15197],[8715,21063],[22506,28926],[19400,2669],[35992,21063],[12240,26793],[6933,15197],[22506,18427],[30780,2669],[16536,24202],[17572,26474],[16815,15134],[30491,7402],[6933,7402],[6803,16653],[36879,20179],[22506,7402],[30780,24202],[8715,26793],[16815,24202],[33643,9853],[3559,36136],[17572,28926],[19400,15075],[30491,18427],[6803,39238],[30491,28926],[16536,9110],[6803,26474],[19790,36136],[8715,24202],[36879,15134],[19790,17755],[22910,28926],[13563,15075],[17572,7402],[13241,15134],[22506,21063],[36879,24202],[39981,17755],[19790,36332],[39981,21063],[19400,21063],[30780,16653],[30491,11357],[39981,36332],[35992,36136],[17572,26793],[6933,9110],[19790,28926],[36879,26474],[12240,9110],[28896,26793],[22910,16653],[16536,20179],[17572,20179],[3559,15075],[13563,21063],[13563,36332],[19790,11357],[6803,7402],[39981,9110],[13563,16653],[30491,24202],[3559,15197],[33643,20179],[13241,9853],[19790,15134],[28896,16653],[19400,26474],[16815,26474],[16815,36136],[8715,9853],[33643,36332],[6803,28926],[30780,15197],[17572,17755],[19790,27852],[17572,27852],[16815,20179],[8715,7402],[12240,7402],[22910,36136],[19790,18427],[39981,15197],[39981,26474],[12240,21063],[36879,2669],[6933,18427],[195,28926],[39981,18427],[6933,26793],[17572,9110],[12240,15134],[28896,15134],[12240,16653],[13563,15197],[33643,28926],[17572,36136],[36879,28926],[3559,16653],[30491,26474],[30491,36136],[28896,15075],[13563,2669],[16536,7402],[22910,18427],[16815,9110],[195,27852],[195,24202],[19400,24202],[195,11357],[33643,27852],[16536,26793],[8715,26474],[16815,2669],[16536,9853],[12240,9853],[195,15134],[33643,11357],[13241,18427],[8715,18427],[6933,36332],[33643,16653],[6803,36136],[16536,28926],[19790,7402],[30780,28926],[16815,28926],[22506,36332],[8715,11357],[17572,2669],[13563,9110],[36879,9110],[19400,28086],[30780,15075],[3559,20179],[19400,9853],[28896,7402],[3559,2669],[12240,24202],[6803,11357],[195,26793],[36879,36136],[17572,15075],[28896,9853],[16536,15134],[16536,39238],[195,26474],[33643,26793],[13241,36332],[39981,11357],[6803,9110],[28896,28926],[19400,18427],[30491,15075],[16815,16653],[35992,15197],[195,16653],[16815,21063],[35992,27852],[30780,21063],[13563,11357],[17572,11357],[39981,2669],[22506,27852],[30491,39238],[6933,39238],[12240,20179],[19790,9110],[17572,21063],[13563,20179],[19400,26793],[13563,26474],[3559,26474],[13563,36136],[35992,28086],[22506,28086],[22506,26793],[36879,16653],[12240,26474],[3559,9853],[12240,36136],[33643,15197],[19400,15134],[30780,17755],[22910,21063],[30780,39238],[36879,39238],[16815,15197],[30491,9853],[6933,16653],[195,36332],[17572,39238],[28896,9110],[35992,18427],[13241,39238],[19400,7402],[12240,28086],[22506,17755],[17572,28086],[35992,26474],[30491,9110],[13241,26474],[33643,15134],[6933,17755],[35992,17755],[19790,21063],[33643,15075],[13241,2669],[12240,17755],[6933,27852],[39981,28086],[16815,28086],[3559,21063],[28896,39238],[35992,15075],[16536,16653],[195,15075],[16536,11357],[30780,9110],[6933,28926],[33643,18427],[35992,2669],[19790,9853],[36879,17755],[6803,20179],[8715,15134],[3559,39238],[6933,36136],[19790,39238],[6933,26474],[33643,17755],[19790,15075],[3559,28086],[13563,26793],[13563,28086],[13241,7402],[17572,24202],[22506,20179],[13241,27852],[22910,9110],[6803,21063],[6803,15075],[12240,39238],[6803,9853],[28896,20179],[13563,27852],[30491,20179],[22910,7402],[35992,36332],[22910,27852],[13241,28926],[16536,21063],[6803,17755],[16536,2669],[6803,28086],[16815,26793],[6803,24202],[35992,24202],[17572,16653],[16815,39238],[35992,15134],[22910,20179],[13241,15075],[3559,26793],[17572,9853],[6933,15134],[30780,11357],[22910,15197],[30780,20179],[19790,24202],[195,9853],[17572,18427],[22506,15134],[3559,24202],[35992,9110],[13241,21063],[13241,15197],[36879,28086],[19790,26474],[30491,17755],[33643,36136],[19400,9110],[28896,2669],[13563,39238],[19400,11357],[19790,26793],[13563,9853],[22910,36332],[6933,9853],[8715,28086],[6933,15075],[39981,28926],[28896,11357],[22910,2669],[16815,17755],[16536,36136],[19400,27852],[33643,28086],[39981,9853],[30491,15134],[195,15197],[16815,18427],[35992,20179],[195,28086],[12240,15075],[36879,11357],[39981,7402],[17572,15134],[33643,7402],[22506,39238],[30491,27852],[8715,15197],[3559,28926],[39981,20179],[19400,39238],[6933,21063],[13241,26793],[19790,28086],[30780,15134],[19790,20179],[30780,28086],[6803,36332],[36879,26793],[13241,9110],[30780,26793],[22910,11357],[30491,2669],[3559,7402],[22506,9853],[22910,39238],[22910,28086],[13241,16653],[22910,26474],[8715,9110],[39981,36136],[195,18427],[33643,39238],[8715,2669],[28896,36136],[39981,39238],[19400,15197],[195,39238],[39981,15134],[30491,26793],[195,17755],[30491,28086],[8715,16653],[36879,36332],[28896,28086],[28896,18427],[22910,15075],[36879,21063],[28896,26474],[28896,15197],[35992,7402],[19790,2669],[8715,17755],[6803,15134],[35992,26793],[35992,9853],[30780,9853],[3559,18427],[195,21063],[30780,36332],[22506,15075],[16815,36332],[35992,28926],[22506,9110],[39981,16653],[8715,28926],[195,2669],[3559,27852],[12240,28926],[16815,11357],[30780,18427],[6803,2669],[3559,9110],[3559,11357],[22506,2669],[33643,2669],[19400,16653],[36879,18427],[30780,26474],[33643,26474],[30780,36136],[8715,20179],[19790,15197],[12240,27852],[36879,27852],[36879,7402],[13563,7402],[39981,26793],[19400,17755],[22506,16653],[13563,17755],[6933,28086],[35992,39238],[13241,20179],[30491,36332],[33643,24202],[33643,9110],[28896,36332],[195,36136],[36879,15197],[195,7402],[28896,17755],[16536,15197],[13563,18427],[195,9110],[22910,26793],[12240,15197],[6803,27852],[13563,28926],[16536,27852],[22910,17755],[22506,24202],[3559,36332],[30780,7402],[16815,7402],[19400,36136],[13563,15134],[22506,36136],[22506,26474],[3559,17755],[39981,15075],[13241,17755],[16536,28086],[13241,28086],[6933,2669],[6933,20179],[13241,24202],[19400,36332],[22910,9853],[19400,20179],[22506,11357],[8715,27852],[6933,11357],[28896,21063],[30491,21063],[22910,24202],[16815,15075],[16536,18427],[6803,18427],[19790,16653],[30491,16653],[12240,18427],[195,20179],[22910,15134],[13241,36136],[16536,26474],[6803,15197],[16536,17755],[19400,28926],[36879,9853],[6933,24202],[30780,27852],[39981,24202]]

solution = Solution()
print(solution.minAreaRect(points))
